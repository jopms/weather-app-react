{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Documents\\\\xgeeks\\\\fe-assignment-jo.34.ao\\\\src\\\\components\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport CurrentWeather from \"./CurrentWeather\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const API_KEY = \"5e5765a835fd5c6a2e13ed922a1a6f46\";\n  const [coords, setCoords] = useState({});\n  const [data, setData] = useState({});\n  const [savedLocations, setSavedLocations] = useState([]);\n  console.log(savedLocations);\n  useEffect(() => {\n    if (window.navigator.geolocation) {\n      window.navigator.geolocation.getCurrentPosition(successPosition, failurePosition);\n    } else {\n      alert(\"Your browser doesn't support geolocation! Location set to Leiria\");\n      setCoords({\n        latitude: 39.74362,\n        longitude: -8.80705\n      });\n    }\n\n    if (localStorage.getItem(\"location\")) {\n      setSavedLocations(JSON.parse(localStorage.getItem(\"location\")));\n    }\n  }, []);\n  useEffect(() => {\n    if (Object.keys(coords).length !== 0) {\n      axios.get( //`https://api.openweathermap.org/data/2.5/find?lat=${coords.latitude}&lon=${coords.longitude}&cnt=10&appid=${API_KEY}`\n      `https://api.openweathermap.org/data/2.5/weather?lat=${coords.latitude}&lon=${coords.longitude}&appid=${API_KEY}` //`https://api.openweathermap.org/data/2.5/onecall?lat=${coords.latitude}&lon=${coords.longitude}&exclude=\"\"&appid=${API_KEY}`\n      ).then(({\n        data\n      }) => {\n        setData(data);\n      });\n    }\n  }, [coords]);\n\n  const successPosition = ({\n    coords\n  }) => {\n    setCoords({\n      latitude: coords.latitude,\n      longitude: coords.longitude\n    });\n  };\n\n  const failurePosition = ({\n    message\n  }) => {\n    alert(message + \". Location set to Leiria!\");\n    setCoords({\n      latitude: 39.74362,\n      longitude: -8.80705\n    });\n  };\n\n  const handleKeyPress = key => {\n    if (key === 'Enter') {\n      console.log();\n    }\n  };\n\n  const saveLocation = () => {\n    if (savedLocations.length > 0) {\n      if (!savedLocations.some(location => location.city === data.name && location.country === data.sys.country)) {\n        setSavedLocations([...savedLocations, {\n          city: data.name,\n          country: data.sys.country\n        }]);\n        localStorage.setItem(\"location\", JSON.stringify([...savedLocations, {\n          city: data.name,\n          country: data.sys.country\n        }]));\n      }\n    } else {\n      localStorage.setItem(\"location\", JSON.stringify([{\n        city: data.name,\n        country: data.sys.country\n      }]));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center-div\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CurrentWeather, {\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onKeyUp: key => {\n            handleKeyPress(key.target.value);\n          },\n          placeholder: \"Search for Location...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            saveLocation();\n          },\n          className: \"button-save\",\n          children: [\" \", \"Save Location\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"C8bjJOpjSuz4sujDCfujubQ+B1c=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/ACER/Documents/xgeeks/fe-assignment-jo.34.ao/src/components/App.js"],"names":["React","useState","useEffect","axios","CurrentWeather","App","API_KEY","coords","setCoords","data","setData","savedLocations","setSavedLocations","console","log","window","navigator","geolocation","getCurrentPosition","successPosition","failurePosition","alert","latitude","longitude","localStorage","getItem","JSON","parse","Object","keys","length","get","then","message","handleKeyPress","key","saveLocation","some","location","city","name","country","sys","setItem","stringify","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport CurrentWeather from \"./CurrentWeather\";\r\n\r\nconst App = () => {\r\n  const API_KEY = \"5e5765a835fd5c6a2e13ed922a1a6f46\";\r\n\r\n  const [coords, setCoords] = useState({});\r\n  const [data, setData] = useState({});\r\n  const [savedLocations, setSavedLocations] = useState([]);\r\n  console.log(savedLocations)\r\n\r\n  useEffect(() => {\r\n    if (window.navigator.geolocation) {\r\n      window.navigator.geolocation.getCurrentPosition(\r\n        successPosition,\r\n        failurePosition\r\n      );\r\n    } else {\r\n      alert(\"Your browser doesn't support geolocation! Location set to Leiria\");\r\n      setCoords({ latitude: 39.74362, longitude: -8.80705 });\r\n    }\r\n\r\n    if (localStorage.getItem(\"location\")) {\r\n      setSavedLocations(JSON.parse(localStorage.getItem(\"location\")));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(coords).length !== 0) {\r\n      axios\r\n        .get(\r\n          //`https://api.openweathermap.org/data/2.5/find?lat=${coords.latitude}&lon=${coords.longitude}&cnt=10&appid=${API_KEY}`\r\n          `https://api.openweathermap.org/data/2.5/weather?lat=${coords.latitude}&lon=${coords.longitude}&appid=${API_KEY}`\r\n          //`https://api.openweathermap.org/data/2.5/onecall?lat=${coords.latitude}&lon=${coords.longitude}&exclude=\"\"&appid=${API_KEY}`\r\n        )\r\n        .then(({ data }) => {\r\n          setData(data);\r\n        });\r\n    }\r\n  }, [coords]);\r\n\r\n  const successPosition = ({ coords }) => {\r\n    setCoords({ latitude: coords.latitude, longitude: coords.longitude });\r\n  };\r\n\r\n  const failurePosition = ({ message }) => {\r\n    alert(message + \". Location set to Leiria!\");\r\n    setCoords({ latitude: 39.74362, longitude: -8.80705 });\r\n  };\r\n\r\n  const handleKeyPress = (key) =>{\r\n    if(key==='Enter'){\r\n      console.log()\r\n    }\r\n  }\r\n\r\n  const saveLocation = () => {\r\n    if (savedLocations.length > 0) {\r\n      if (\r\n        !savedLocations.some(\r\n          (location) =>\r\n            location.city === data.name && location.country === data.sys.country\r\n        )\r\n      ) {\r\n        setSavedLocations([\r\n          ...savedLocations,\r\n          { city: data.name, country: data.sys.country },\r\n        ]);\r\n        localStorage.setItem(\r\n          \"location\",\r\n          JSON.stringify([\r\n            ...savedLocations,\r\n            { city: data.name, country: data.sys.country },\r\n          ])\r\n        );\r\n      }\r\n    } else {\r\n      localStorage.setItem(\r\n        \"location\",\r\n        JSON.stringify([{ city: data.name, country: data.sys.country }])\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"center-div\">\r\n      <div>\r\n        <CurrentWeather data={data} />\r\n        <div className=\"search-bar\">\r\n          \r\n          <input type=\"text\" onKeyUp ={(key)=>{handleKeyPress(key.target.value)}} placeholder=\"Search for Location...\" />\r\n          <button\r\n            onClick={() => {\r\n              saveLocation();\r\n            }}\r\n            className=\"button-save\"\r\n          >\r\n            {\" \"}\r\n            Save Location\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}